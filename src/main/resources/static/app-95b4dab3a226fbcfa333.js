(function(t){function e(e){for(var s,n,r=e[0],l=e[1],c=e[2],m=0,u=[];m<r.length;m++)n=r[m],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&u.push(i[n][0]),i[n]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);d&&d(e);while(u.length)u.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],s=!0,r=1;r<a.length;r++){var l=a[r];0!==i[l]&&(s=!1)}s&&(o.splice(e--,1),t=n(n.s=a[0]))}return t}var s={},i={app:0},o=[];function n(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=s,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(a,s,function(e){return t[e]}.bind(null,s));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var d=l;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var s=a("85ec"),i=a.n(s);i.a},"3c5e":function(t,e,a){"use strict";var s=a("6081"),i=a.n(s);i.a},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),i=a("2f62"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app",attrs:{id:"app"}},[a("Main")],1)},n=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-container"},[a("md-app",[a("md-app-toolbar",{staticClass:"md-primary"},[a("md-button",{staticClass:"md-icon-button",on:{click:function(e){t.menuVisible=!t.menuVisible}}},[a("md-icon",[t._v("menu")])],1),a("span",{staticClass:"md-title"},[t._v("Mocker")]),a("md-button",{staticStyle:{"margin-left":"auto"},on:{click:function(e){return t.refresh()}}},[a("md-icon",[t._v("refresh")])],1)],1),a("md-app-drawer",{attrs:{"md-active":t.menuVisible},on:{"update:mdActive":function(e){t.menuVisible=e},"update:md-active":function(e){t.menuVisible=e}}},[a("md-toolbar",{staticClass:"md-transparent",attrs:{"md-elevation":"0"}},[a("span",{staticClass:"md-title"},[t._v(" Mocker")])]),a("md-list",[a("md-list-item",{staticClass:"navigation-link",attrs:{to:"/info"},on:{click:function(e){t.menuVisible=!1}}},[a("md-icon",[t._v("info")]),a("span",{staticClass:"md-list-item-text "},[t._v(" Info ")])],1),a("md-list-item",{staticClass:"navigation-link",attrs:{to:"/create"},on:{click:function(e){t.menuVisible=!1}}},[a("md-icon",[t._v("create")]),a("span",{staticClass:"md-list-item-text "},[t._v(" Create")])],1),a("md-list-item",{staticClass:"navigation-link",attrs:{to:"/list"},on:{click:function(e){t.menuVisible=!1}}},[a("md-icon",[t._v("list")]),a("span",{staticClass:"md-list-item-text "},[t._v("List")])],1),a("md-list-item",{staticClass:"navigation-link",staticStyle:{"margin-top":"auto"},on:{click:function(e){t.menuVisible=!1}}},[a("md-avatar",{staticClass:"md-small",staticStyle:{"background-color":"white","margin-right":"32px"}},[a("img",{staticStyle:{width:"20px"},attrs:{src:"github.svg"}})]),a("span",{staticClass:"md-list-item-text"},[a("a",{staticStyle:{color:"white"},attrs:{href:"https://github.com/Eugene239/mocker"}},[t._v("Github")])])],1)],1)],1),a("md-app-content",{staticClass:"mocker__page"},[t.loading?a("div",{staticStyle:{position:"absolute",top:"0",left:"0",right:"0",margin:"0",padding:"0",overflow:"hidden"}},[a("md-progress-bar",{staticClass:"md-accent",attrs:{"md-mode":"indeterminate"}})],1):t._e(),this.$store.state.uuid?a("router-view"):t._e()],1)],1)],1)},l=[],c=a("bc3a"),d=a.n(c),m={getUUID:function(t){return d.a.get(t+"/uuid")}},u=m,h={name:"Main",mounted:function(){this.loadInfo()},computed:{loading:function(){return this.$store.state.loading}},data:function(){return{menuVisible:!1,env:""}},methods:{loadInfo:function(){var t=this;this.$store.state.uuid||(this.$store.commit("setLoading",!0),u.getUUID(this.env).then((function(e){console.log(e.data.uuid),t.$store.commit("setUUID",e.data.uuid),t.$store.commit("setLoading",!1)}),(function(e){t.$store.commit("setLoading",!1),console.error(e)})))},refresh:function(){console.log("refresh"),window.location.reload()}}},f=h,p=(a("3c5e"),a("2877")),v=Object(p["a"])(f,r,l,!1,null,"5e4e7c8b",null),g=v.exports,_={name:"App",components:{Main:g}},b=_,C=(a("034f"),Object(p["a"])(b,o,n,!1,null,null,null)),k=C.exports,y=a("43f9"),S=a.n(y),w=a("8c4f"),$=a("1dce"),M=a.n($),x=(a("51de"),a("0759"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("form",{staticClass:"md-layout",staticStyle:{"margin-top":"2rem"},attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),t.validateMock(e)}}},[a("md-card",{staticClass:"md-layout-item md-size-50 md-small-size-100",staticStyle:{margin:"auto"}},[a("md-card-header",{staticStyle:{display:"flex"}},[a("div",{staticClass:"md-title"},[t._v("Create Mock")])]),a("md-divider"),a("md-card-content",[a("div",{staticClass:"md-layout md-gutter"},[a("div",{staticClass:"md-layout-item md-small-size-100"},[a("md-field",[a("label",{attrs:{for:"method"}},[t._v("Method")]),a("md-select",{attrs:{name:"method",id:"method",disabled:t.loading},model:{value:t.form.method,callback:function(e){t.$set(t.form,"method",e)},expression:"form.method"}},t._l(t.methods,(function(e){return a("md-option",{key:e,attrs:{value:e}},[t._v(t._s(e)+" ")])})),1),a("md-icon",[t._v("http")])],1)],1),a("div",{staticClass:"md-layout-item md-small-size-100"},[a("md-field",{class:t.getValidationClass("code")},[a("label",{attrs:{for:"code"}},[t._v("Code")]),a("md-input",{attrs:{type:"number",id:"code",name:"code",autocomplete:"code",disabled:t.loading},model:{value:t.form.code,callback:function(e){t.$set(t.form,"code",e)},expression:"form.code"}}),t.$v.form.code.required?t._e():a("span",{staticClass:"md-error"},[t._v("Code is required")]),t.$v.form.code.isCodeValid?t._e():a("span",{staticClass:"md-error"},[t._v("Invalid code")]),a("md-icon",[t._v("http")])],1)],1)]),a("md-field",{class:t.getValidationClass("path")},[a("label",{attrs:{for:"path"}},[t._v("Path")]),a("md-input",{attrs:{type:"text",disabled:t.loading},model:{value:t.form.path,callback:function(e){t.$set(t.form,"path",e)},expression:"form.path"}}),t.$v.form.path.required?t._e():a("span",{staticClass:"md-error"},[t._v("The Path is required")]),t.$v.form.path.isPathValid?t.$v.form.path?t._e():a("span",{staticClass:"md-error"},[t._v("Invalid path")]):a("span",{staticClass:"md-error"},[t._v("Invalid path, use /\\S+/\\S+ paths")]),a("md-icon",[t._v("public")])],1),a("md-field",{class:t.getValidationClass("response")},[a("label",[t._v("Response")]),a("md-textarea",{staticStyle:{"max-height":"100%"},attrs:{required:""},model:{value:t.form.response,callback:function(e){t.$set(t.form,"response",e)},expression:"form.response"}}),a("span",{staticClass:"md-helper-text"},[t._v("JSON mock response")]),t.$v.form.response.isJsonValid?t.$v.form.response?t._e():a("span",{staticClass:"md-error"},[t._v("There is an error")]):a("span",{staticClass:"md-error"},[t._v("Response json is invalid")]),a("md-icon",[t._v("description")])],1)],1),a("md-card-actions",[a("md-button",{staticClass:"md-primary",attrs:{type:"submit",disabled:t.loading}},[t._v("Create")])],1)],1),a("md-snackbar",{attrs:{"md-active":t.mockSaved},on:{"update:mdActive":function(e){t.mockSaved=e},"update:md-active":function(e){t.mockSaved=e}}},[t._v("The mock "+t._s(t.lastMock)+" was saved with success!")])],1)])}),O=[],T=(a("99af"),a("c975"),a("ac1f"),a("466d"),a("498a"),{getAll:function(t,e,a){return d.a.get(t+"/"+e,{params:{size:a.size,page:a.page,sort:"created,desc"}})},create:function(t,e,a,s,i,o){return d.a.post(t+"/"+e,o,{headers:{"Content-Type":"application/json"},params:{method:a,code:s,path:i}})}}),E=T,P=a("b5ae"),V=function(t){if(null==t||0===t.trim().length)return!1;try{return null!=t.match(/\/\S+\/\S+/gm)}catch(e){return!1}},j=function(t){if(null==t||0===t.trim().length)return!0;try{return JSON.parse(t),!0}catch(e){return!1}},D=function(t){for(var e=[],a=100;a<=103;a++)e.push(a);for(var s=200;s<=208;s++)e.push(s);for(var i=300;i<=308;i++)e.push(i);for(var o=400;o<=431;o++)e.push(o);for(var n=449;n<=451;n++)e.push(n);e.push("499");for(var r=500;r<=511;r++)e.push(r);for(var l=520;l<=526;l++)e.push(l);return-1!==e.indexOf(t)},L={name:"Create",mixins:[$["validationMixin"]],watch:{loading:function(t,e){console.log("[WATCH] loading",t,e),this.$store.commit("setLoading",t)}},mounted:function(){this.methods=this.$store.state.methods,this.form.method=this.methods[0]},data:function(){return{form:{method:null,code:200,path:"/",response:null},env:"",methods:[],mockSaved:!1,loading:!1,lastMock:null}},validations:{form:{code:{required:P["required"],maxLength:Object(P["maxLength"])(3),minLength:Object(P["minLength"])(3),isCodeValid:D},path:{required:P["required"],isPathValid:V},response:{isJsonValid:j}}},methods:{getValidationClass:function(t){var e=this.$v.form[t];if(e)return{"md-invalid":e.$invalid&&e.$dirty}},clearForm:function(){this.$v.$reset(),this.form.path="/",this.form.response=null},saveMock:function(){var t=this;this.loading=!0;var e=this.form.response?JSON.parse(this.form.response):null;E.create(this.env,this.$store.state.uuid,this.form.method,this.form.code,this.form.path,e).then((function(e){console.log(e),t.loading=!1,t.lastMock="".concat(t.form.method," ").concat(t.form.path," ").concat(t.form.code),t.mockSaved=!0}),(function(e){console.error(e),t.loading=!1}))},validateMock:function(){this.$v.$touch(),this.$v.$invalid||this.saveMock()}}},A=L,I=Object(p["a"])(A,x,O,!1,null,null,null),U=I.exports,q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("md-table",{staticClass:"md-card md-small-size-100 md-small-p-1 mocker__list",staticStyle:{"padding-bottom":"1rem"}},[a("md-table-toolbar",[a("h1",{staticClass:"md-title"},[t._v("Mock List")]),a("div",{staticStyle:{display:"flex"}},[a("div",{staticClass:"md-subheading",staticStyle:{margin:"auto"}},[t._v(" "+t._s(t.page+1)+" - "+t._s(t.totalPages)+" ")]),a("md-button",{staticClass:"md-icon-button",attrs:{disabled:t.first},on:{click:function(e){return t.move(t.page-1)}}},[a("md-icon",[t._v("keyboard_arrow_left")])],1),a("md-button",{staticClass:"md-icon-button ",attrs:{disabled:t.last},on:{click:function(e){return t.move(t.page+1)}}},[a("md-icon",[t._v("keyboard_arrow_right")])],1)],1)]),a("md-table-row",[a("md-table-head",[t._v("METHOD")]),a("md-table-head",[t._v("PATH")]),a("md-table-head",{staticClass:"md-small-hide"},[t._v("CODE")]),a("md-table-head",{staticClass:"md-small-hide"},[t._v("CREATED")])],1),t._l(t.mocks,(function(e){return a("md-table-row",{key:t.hashf(e),staticStyle:{cursor:"pointer"},on:{click:function(a){return t.showMock(e)}}},[a("md-table-cell",{style:t.mockStyle(e)},[t._v(t._s(e.method))]),a("md-table-cell",{staticClass:"mocker-path"},[t._v(t._s(e.path))]),a("md-table-cell",{staticClass:"md-small-hide"},[t._v(t._s(e.code))]),a("md-table-cell",{staticClass:"md-small-hide"},[t._v(t._s(t.formatDate(e.created)))])],1)})),a("md-button",{staticClass:"md-icon-button md-raised md-fab md-accent mocker__fab",attrs:{to:"/create"}},[a("md-icon",[t._v("add")])],1)],2),t.selectedMock?a("md-dialog",{attrs:{"md-active":t.showDialog},on:{"update:mdActive":function(e){t.showDialog=e},"update:md-active":function(e){t.showDialog=e}}},[a("md-dialog-title",{staticClass:"mocker__dialog"},[a("div",{staticClass:"mocker__dialog-title"},[a("span",{style:t.mockStyle(t.selectedMock)},[t._v(t._s(t.selectedMock.method))]),a("span",{staticStyle:{"padding-left":"1rem"}},[t._v(t._s(t.selectedMock.code))])]),a("div",{staticClass:"mocker__dialog-title"},[t._v(" "+t._s(t.selectedMock.path))])]),a("md-divider"),a("div",{staticClass:" mocker__dialog-body"},[a("div",{staticClass:"md-title"},[t._v("Body")]),a("div",{staticClass:"md-title"},[t._v("TBD")])]),a("div",[t._v(t._s(t.selectedMock.body))]),a("md-dialog-actions",[a("md-button",{staticClass:"md-primary",on:{click:function(e){t.showDialog=!1}}},[t._v("Close")])],1)],1):t._e()],1)},z=[],J=(a("1276"),a("d442")),H={name:"MockList",mounted:function(){this.loadMocks()},watch:{loading:function(t,e){console.log("[WATCH] loading",t,e),this.$store.commit("setLoading",t)},page:function(t,e){console.log("[WATCH] page",t,e),this.loadMocks()}},data:function(){return{env:"",size:20,page:0,totalPages:1,first:!0,last:!0,loading:!1,mocks:[],showDialog:!1,selectedMock:null}},methods:{loadMocks:function(){var t=this;this.loading||(this.loading=!0,E.getAll(this.env,this.$store.state.uuid,{size:this.size,page:this.page}).then((function(e){console.log(e),t.mocks=e.data.content,t.first=e.data.first,t.last=e.data.last,t.totalPages=e.data.totalPages,t.page=e.data.number,t.loading=!1}),(function(e){console.error(e),t.loading=!1})))},mockStyle:function(t){return"color: "+this.$store.state.colors[t.method]},move:function(t){this.loading||(console.log("[MOVE]",t),this.page=t)},formatDate:function(t){return t?-1===t.indexOf("T")?t:t.split("T")[0]:""},hashf:function(t){return J(t)},showMock:function(t){console.log(t),this.selectedMock=t,this.showDialog=!0}}},G=H,R=(a("7879"),Object(p["a"])(G,q,z,!1,null,null,null)),N=R.exports,W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("div",{staticClass:"md-card ",staticStyle:{"margin-bottom":"2rem",padding:"0.5rem 0.5rem 1rem"}},[a("h1",{staticClass:"md-headline "},[a("router-link",{staticStyle:{"padding-right":"0.5rem"},attrs:{to:"create"}},[t._v("Create new mocks")]),a("md-icon",{staticClass:"md-primary"},[t._v("create")])],1),t._m(1)]),a("div",{staticClass:"md-card",staticStyle:{"margin-bottom":"2rem",padding:"0.5rem 0.5rem 1rem"}},[a("h1",{staticClass:"md-headline "},[a("router-link",{staticStyle:{"padding-right":"0.5rem"},attrs:{to:"list"}},[t._v("Check mock in list")]),a("md-icon",{staticClass:"md-primary"},[t._v("list")])],1),a("div",{staticClass:"md-body-1"},[t._v(" Check mock exist on list page ")])]),a("div",{staticClass:"md-card",staticStyle:{"margin-bottom":"2rem",padding:"0.5rem 0.5rem 1rem"}},[a("h1",{staticClass:"md-headline "},[t._v(" Source code and dedicate use ")]),a("div",{staticClass:"md-body-1"},[a("div",[t._v("Check github page")]),a("div",{staticClass:"md-list-item",staticStyle:{display:"flex","align-items":"center","margin-top":"1rem"}},[a("a",{staticStyle:{color:"white"},attrs:{href:"https://github.com/Eugene239/mocker"}},[a("md-avatar",{staticClass:"md-small",staticStyle:{"background-color":"white","margin-right":"32px"}},[a("img",{staticStyle:{width:"20px"},attrs:{src:"github.svg"}})]),t._v(" Github ")],1)])])])])},B=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"md-card",staticStyle:{"margin-bottom":"2rem",padding:"0.5rem 0.5rem 1rem"}},[a("h1",{staticClass:"md-headline "},[t._v("Simple Mocker for REST API")]),a("div",{staticClass:"md-body-1"},[t._v(" Use it when backend is not ready"),a("br"),t._v(" Mock necessary methods and set Mocker as backend ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"md-body-1"},[t._v(" Create new mocks via site page or any http client"),a("br"),a("pre",[a("code",[t._v("curl --location --request POST 'https://mocker.badsoft.ml?path=/api/post&code=200&method=POST' \\\n--header 'Content-Type: application/json' \\\n--data-raw '{\n\"hello\": \"world\"\n}'")])]),t._v(" For update use same method ")])}],F={name:"Info"},K=F,Q=Object(p["a"])(K,W,B,!1,null,"07a5cf7c",null),X=Q.exports;s["default"].config.productionTip=!1,s["default"].use(S.a),s["default"].use(i["a"]),s["default"].use(w["a"]),s["default"].use(M.a);var Y=[{path:"/",redirect:"/info"},{path:"/info",component:X},{path:"/create",component:U},{path:"/list",component:N}],Z=new w["a"]({routes:Y}),tt=new i["a"].Store({state:{loading:!1,uuid:null,colors:{GET:"#2bcc40",POST:"#e6a147",DELETE:"#e03d3d",PUT:"#3f87eb"},methods:["GET","POST","DELETE","PUT"]},mutations:{setLoading:function(t,e){console.log("[store] loading",e),this.state.loading=e},setUUID:function(t,e){console.log("[store] uuid",e),this.state.uuid=e}}});new s["default"]({render:function(t){return t(k)},store:tt,router:Z}).$mount("#app")},6081:function(t,e,a){},7879:function(t,e,a){"use strict";var s=a("aebe"),i=a.n(s);i.a},"85ec":function(t,e,a){},aebe:function(t,e,a){}});
//# sourceMappingURL=app-95b4dab3a226fbcfa333.js.map
(function(t){function e(e){for(var o,s,r=e[0],l=e[1],c=e[2],m=0,u=[];m<r.length;m++)s=r[m],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&u.push(n[s][0]),n[s]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);d&&d(e);while(u.length)u.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],o=!0,r=1;r<a.length;r++){var l=a[r];0!==n[l]&&(o=!1)}o&&(i.splice(e--,1),t=s(s.s=a[0]))}return t}var o={},n={app:0},i=[];function s(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=o,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(a,o,function(e){return t[e]}.bind(null,o));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var d=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var o=a("85ec"),n=a.n(o);n.a},"387e":function(t,e,a){t.exports=a.p+"github.76d344f0.svg"},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var o=a("2b0e"),n=a("2f62"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app",attrs:{id:"app"}},[a("Main")],1)},s=[],r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"page-container"},[o("md-app",[o("md-app-toolbar",{staticClass:"md-primary"},[o("md-button",{staticClass:"md-icon-button",on:{click:function(e){t.menuVisible=!t.menuVisible}}},[o("md-icon",[t._v("menu")])],1),o("span",{staticClass:"md-title"},[t._v("Mocker")]),o("md-button",{staticStyle:{"margin-left":"auto"},on:{click:function(e){return t.refresh()}}},[o("md-icon",[t._v("refresh")])],1)],1),o("md-app-drawer",{attrs:{"md-active":t.menuVisible},on:{"update:mdActive":function(e){t.menuVisible=e},"update:md-active":function(e){t.menuVisible=e}}},[o("md-toolbar",{staticClass:"md-transparent",attrs:{"md-elevation":"0"}},[t._v("Navigation")]),o("md-list",{staticStyle:{height:"95%"}},[o("md-list-item",{staticClass:"navigation-link",attrs:{to:"/info"},on:{click:function(e){t.menuVisible=!1}}},[o("md-icon",[t._v("info")]),o("span",{staticClass:"md-list-item-text "},[t._v(" Info ")])],1),o("md-list-item",{staticClass:"navigation-link",attrs:{to:"/create"},on:{click:function(e){t.menuVisible=!1}}},[o("md-icon",[t._v("create")]),o("span",{staticClass:"md-list-item-text "},[t._v(" Create")])],1),o("md-list-item",{staticClass:"navigation-link",attrs:{to:"/list"},on:{click:function(e){t.menuVisible=!1}}},[o("md-icon",[t._v("list")]),o("span",{staticClass:"md-list-item-text "},[t._v("List")])],1),o("md-list-item",{staticClass:"navigation-link",staticStyle:{"margin-top":"auto"},on:{click:function(e){t.menuVisible=!1}}},[o("md-avatar",{staticClass:"md-small",staticStyle:{"background-color":"white","margin-right":"32px"}},[o("img",{staticStyle:{width:"20px"},attrs:{src:a("387e")}})]),o("span",{staticClass:"md-list-item-text"},[o("a",{staticStyle:{color:"white"},attrs:{href:"https://github.com/Eugene239/mocker"}},[t._v("Code")])])],1)],1)],1),o("md-app-content",{staticStyle:{position:"relative"}},[t.loading?o("div",{staticStyle:{position:"absolute",top:"0",left:"0",right:"0",margin:"0",padding:"0",overflow:"hidden"}},[o("md-progress-bar",{staticClass:"md-accent",attrs:{"md-mode":"indeterminate"}})],1):t._e(),this.$store.state.uuid?o("router-view"):t._e()],1)],1)],1)},l=[],c=a("bc3a"),d=a.n(c),m={getUUID:function(t){return d.a.get(t+"/uuid")}},u=m,f={name:"Main",mounted:function(){this.loadInfo()},computed:{loading:function(){return this.$store.state.loading}},data:function(){return{menuVisible:!1,env:""}},methods:{loadInfo:function(){var t=this;this.$store.state.uuid||(this.$store.commit("setLoading",!0),u.getUUID(this.env).then((function(e){console.log(e.data.uuid),t.$store.commit("setUUID",e.data.uuid),t.$store.commit("setLoading",!1)}),(function(e){t.$store.commit("setLoading",!1),console.error(e)})))},refresh:function(){console.log("refresh"),window.location.reload()}}},p=f,h=(a("c927"),a("2877")),v=Object(h["a"])(p,r,l,!1,null,"7bd52dec",null),g=v.exports,b={name:"App",components:{Main:g}},_=b,y=(a("034f"),Object(h["a"])(_,i,s,!1,null,null,null)),k=y.exports,C=a("43f9"),$=a.n(C),S=a("8c4f"),x=a("1dce"),w=a.n(x),O=(a("51de"),a("0759"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("form",{staticClass:"md-layout",staticStyle:{"margin-top":"2rem"},attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),t.validateMock(e)}}},[a("md-card",{staticClass:"md-layout-item md-size-50 md-small-size-100",staticStyle:{margin:"auto"}},[a("md-card-header",{staticStyle:{display:"flex"}},[a("div",{staticClass:"md-title"},[t._v("Create Mock")])]),a("md-divider"),a("md-card-content",[a("div",{staticClass:"md-layout md-gutter"},[a("div",{staticClass:"md-layout-item md-small-size-100"},[a("md-field",[a("label",{attrs:{for:"method"}},[t._v("Method")]),a("md-select",{attrs:{name:"method",id:"method",disabled:t.loading},model:{value:t.form.method,callback:function(e){t.$set(t.form,"method",e)},expression:"form.method"}},t._l(t.methods,(function(e){return a("md-option",{key:e,attrs:{value:e}},[t._v(t._s(e)+" ")])})),1),a("md-icon",[t._v("http")])],1)],1),a("div",{staticClass:"md-layout-item md-small-size-100"},[a("md-field",{class:t.getValidationClass("code")},[a("label",{attrs:{for:"code"}},[t._v("Code")]),a("md-input",{attrs:{type:"number",id:"code",name:"code",autocomplete:"code",disabled:t.loading},model:{value:t.form.code,callback:function(e){t.$set(t.form,"code",e)},expression:"form.code"}}),t.$v.form.code.required?t._e():a("span",{staticClass:"md-error"},[t._v("Code is required")]),a("md-icon",[t._v("http")])],1)],1)]),a("md-field",{class:t.getValidationClass("path")},[a("label",{attrs:{for:"path"}},[t._v("Path")]),a("md-input",{attrs:{type:"text",disabled:t.loading},model:{value:t.form.path,callback:function(e){t.$set(t.form,"path",e)},expression:"form.path"}}),t.$v.form.path.required?t._e():a("span",{staticClass:"md-error"},[t._v("The Path is required")]),t.$v.form.path.isPathValid&&t.$v.form.path?t._e():a("span",{staticClass:"md-error"},[t._v("Invalid path")]),a("md-icon",[t._v("public")])],1),a("md-field",{class:t.getValidationClass("response")},[a("label",[t._v("Response")]),a("md-textarea",{staticStyle:{"max-height":"100%"},attrs:{required:""},model:{value:t.form.response,callback:function(e){t.$set(t.form,"response",e)},expression:"form.response"}}),a("span",{staticClass:"md-helper-text"},[t._v("JSON mock response")]),t.$v.form.response.isJsonValid?t.$v.form.response?t._e():a("span",{staticClass:"md-error"},[t._v("There is an error")]):a("span",{staticClass:"md-error"},[t._v("Response json is invalid")]),a("md-icon",[t._v("description")])],1)],1),a("md-card-actions",[a("md-button",{staticClass:"md-primary",attrs:{type:"submit",disabled:t.loading}},[t._v("Create")])],1)],1),a("md-snackbar",{attrs:{"md-active":t.mockSaved},on:{"update:mdActive":function(e){t.mockSaved=e},"update:md-active":function(e){t.mockSaved=e}}},[t._v("The mock "+t._s(t.lastMock)+" was saved with success!")])],1)])}),M=[],T=(a("99af"),a("ac1f"),a("466d"),a("498a"),{getAll:function(t,e,a){return d.a.get(t+"/"+e,{params:{size:a.size,page:a.page}})},create:function(t,e,a,o,n,i){return d.a.post(t+"/"+e,i,{headers:{"Content-Type":"application/json"},params:{method:a,code:o,path:n}})}}),P=T,V=a("b5ae"),j=function(t){if(null==t||0===t.trim().length)return!1;try{return null!=t.match(/\/\S+\/\S+/gm)}catch(e){return!1}},E=function(t){if(null==t||0===t.trim().length)return!0;try{return JSON.parse(t),!0}catch(e){return!1}},L={name:"Create",mixins:[x["validationMixin"]],watch:{loading:function(t,e){console.log("[WATCH] loading",t,e),this.$store.commit("setLoading",t)}},mounted:function(){this.methods=this.$store.state.methods,this.form.method=this.methods[0]},data:function(){return{form:{method:null,code:200,path:"/",response:null},env:"",methods:[],mockSaved:!1,loading:!1,lastMock:null}},validations:{form:{code:{required:V["required"],maxLength:Object(V["maxLength"])(3),minLength:Object(V["minLength"])(3)},path:{required:V["required"],isPathValid:j},response:{isJsonValid:E}}},methods:{getValidationClass:function(t){var e=this.$v.form[t];if(e)return{"md-invalid":e.$invalid&&e.$dirty}},clearForm:function(){this.$v.$reset(),this.form.path="/",this.form.response=null},saveMock:function(){var t=this;this.loading=!0;var e=this.form.response?JSON.parse(this.form.response):null;P.create(this.env,this.$store.state.uuid,this.form.method,this.form.code,this.form.path,e).then((function(e){console.log(e),t.loading=!1,t.lastMock="".concat(t.form.method," ").concat(t.form.path," ").concat(t.form.code),t.mockSaved=!0}),(function(e){console.error(e),t.loading=!1}))},validateMock:function(){this.$v.$touch(),this.$v.$invalid||this.saveMock()}}},D=L,z=Object(h["a"])(D,O,M,!1,null,null,null),U=z.exports,q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("md-table",{staticClass:"md-card",staticStyle:{"padding-bottom":"1rem"}},[a("md-table-toolbar",[a("h1",{staticClass:"md-title"},[t._v("Mock List")]),a("div",{staticStyle:{display:"flex"}},[a("div",{staticClass:"md-subheading",staticStyle:{margin:"auto"}},[t._v(" "+t._s(t.page+1)+" - "+t._s(t.totalPages)+" ")]),a("md-button",{staticClass:"md-icon-button",attrs:{disabled:t.first},on:{click:function(e){return t.move(t.page-1)}}},[a("md-icon",[t._v("keyboard_arrow_left")])],1),a("md-button",{staticClass:"md-icon-button ",attrs:{disabled:t.last},on:{click:function(e){return t.move(t.page+1)}}},[a("md-icon",[t._v("keyboard_arrow_right")])],1)],1)]),a("md-table-row",[a("md-table-head",[t._v("METHOD")]),a("md-table-head",[t._v("PATH")]),a("md-table-head",{attrs:{"md-numeric":""}},[t._v("CODE")]),a("md-table-head",[t._v("BODY")]),a("md-table-head")],1),t._l(t.mocks,(function(e){return a("md-table-row",{key:t.hashf(e),staticStyle:{cursor:"pointer"}},[a("md-table-cell",{style:t.mockStyle(e)},[t._v(t._s(e.method))]),a("md-table-cell",[t._v(t._s(e.path))]),a("md-table-cell",{attrs:{"md-numeric":""}},[t._v(t._s(e.code))]),a("md-table-cell",[t._v(t._s(t.pretty(e.body)))]),a("md-table-cell",[a("md-icon",[t._v("trash")])],1)],1)})),a("md-button",{staticClass:"md-icon-button md-raised md-fab md-accent",staticStyle:{"z-index":"0",right:"-1.5rem",bottom:"-1.5rem",position:"absolute"},attrs:{to:"/create"}},[a("md-icon",[t._v("add")])],1)],2)],1)},A=[],I=a("d442"),J={name:"MockList",mounted:function(){this.loadMocks()},watch:{loading:function(t,e){console.log("[WATCH] loading",t,e),this.$store.commit("setLoading",t)},page:function(t,e){console.log("[WATCH] page",t,e),this.loadMocks()}},data:function(){return{env:"",size:20,page:0,totalPages:1,first:!0,last:!0,loading:!1,mocks:[]}},methods:{loadMocks:function(){var t=this;this.loading||(this.loading=!0,P.getAll(this.env,this.$store.state.uuid,{size:this.size,page:this.page}).then((function(e){console.log(e),t.mocks=e.data.content,t.first=e.data.first,t.last=e.data.last,t.totalPages=e.data.totalPages,t.page=e.data.number,t.loading=!1}),(function(e){console.error(e),t.loading=!1})))},pretty:function(t){return t},mockStyle:function(t){return"color: "+this.$store.state.colors[t.method]},move:function(t){this.loading||(console.log("[MOVE]",t),this.page=t)},hashf:function(t){return I(t)}}},H=J,N=Object(h["a"])(H,q,A,!1,null,"0180d736",null),W=N.exports,B=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},G=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("TBD")])])}],R={name:"Info"},F=R,Y=Object(h["a"])(F,B,G,!1,null,"d09d0596",null),K=Y.exports;o["default"].config.productionTip=!1,o["default"].use($.a),o["default"].use(n["a"]),o["default"].use(S["a"]),o["default"].use(w.a);var Q=[{path:"/",redirect:"/info"},{path:"/info",component:K},{path:"/create",component:U},{path:"/list",component:W}],X=new S["a"]({routes:Q}),Z=new n["a"].Store({state:{loading:!1,uuid:null,colors:{GET:"#2bcc40",POST:"#e6a147",DELETE:"#e03d3d",PUT:"#3f87eb"},methods:["GET","POST","DELETE","PUT"]},mutations:{setLoading:function(t,e){console.log("[store] loading",e),this.state.loading=e},setUUID:function(t,e){console.log("[store] uuid",e),this.state.uuid=e}}});new o["default"]({render:function(t){return t(k)},store:Z,router:X}).$mount("#app")},"85ec":function(t,e,a){},b677:function(t,e,a){},c927:function(t,e,a){"use strict";var o=a("b677"),n=a.n(o);n.a}});
//# sourceMappingURL=app.f5bb67f7.js.map